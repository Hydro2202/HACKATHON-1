<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ConFix — Login</title>
  <link rel="icon" type="image/png" href="logo.png">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* center login vertically inside app */
    .login-wrap { padding:22px; display:flex; flex-direction:column; gap:14px; align-items:stretch; justify-content:center; min-height:360px; }
    .logo-big { display:flex; gap:12px; align-items:center; justify-content:center; padding:18px 0; }
    .logo-text { font-weight:700; color:#03396c; font-size:20px; letter-spacing:0.2px; }
    .muted { color:#6b8cae; font-size:13px; text-align:center; }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="ConFix login">
    <div class="header">
      <div class="logo" aria-hidden="true">
        <img src="logo.png" alt="Confix Logo" style="width:32px;height:32px;border-radius:8px;background:#eaf6ff;object-fit:contain;" />
      </div>
      <div class="app-title">ConFix</div>
    </div>

    <div class="content">
      <div class="login-wrap card">
        <div class="logo-big">
          <div style="width:64px;height:64px;border-radius:12px;background:#eaf6ff;display:flex;align-items:center;justify-content:center;">
            <img src="logo.png" alt="Confix Logo" style="width:54px;height:54px;object-fit:contain;border-radius:10px;" />
          </div>
          <div class="logo-text">ConFix</div>
        </div>

        <div class="muted">Maintenance & property issue tracker — login to continue</div>

        <div class="field">
          <label for="email">Email</label>
          <input id="email" class="input" placeholder="you@property.com" autocomplete="username">
        </div>

        <div class="field">
          <label for="password">Password</label>
          <input id="password" type="password" class="input" placeholder="••••••" autocomplete="current-password">
        </div>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:6px;">
          <button id="loginBtn" class="btn btn-primary" style="flex:1">Sign in</button>
          <button id="demoBtn" class="btn btn-ghost" style="flex:0 0 auto;">Use Demo</button>
        </div>

        <div style="margin-top:8px;color:#577aa0;font-size:13px;">
          Tip: use <strong>demo</strong> to try the app. Login is client-side only for this prototype.
        </div>
      </div>

      <div style="text-align:center;padding:10px;color:#9ab7db;font-size:13px;">
        Built for mobile-first property maintenance workflows
      </div>
    </div>
  </div>

  <script>
    // Simple client-side login for the prototype
    const loginBtn = document.getElementById('loginBtn');
    const demoBtn = document.getElementById('demoBtn');

    function doLogin(email, password) {
      // very small validation
      if (!email || !password) {
        alert('Please enter email and password (or use Demo).');
        return;
      }
      // For prototype: store a simple session token in localStorage
      localStorage.setItem('confix_user', JSON.stringify({ email, name: email.split('@')[0] }));
      // redirect to dashboard
      window.location.href = 'dashboard.html';
    }

    loginBtn.addEventListener('click', () => {
      doLogin(document.getElementById('email').value.trim(), document.getElementById('password').value);
    });

    demoBtn.addEventListener('click', () => {
      // seed demo user and some sample data
      localStorage.setItem('confix_user', JSON.stringify({ email: 'demo@property.com', name: 'DemoUser' }));
      // sample items
      const sample = [
        { id: 'c-1', type: 'Complaint', title: 'Leaking faucet - Apt 2B', status: 'open', created: Date.now() },
        { id: 'j-1', type: 'Job Order', title: 'Replace hallway light', status: 'inprogress', created: Date.now()-3600000 }
      ];
      localStorage.setItem('confix_items', JSON.stringify(sample));
      localStorage.setItem('confix_situation', JSON.stringify([{time:Date.now(), text:'Water outage resolved in B-wing'}]));
      window.location.href = 'dashboard.html';
    });

    // No auto-redirect to dashboard if already logged in
  </script>
</body>
</html>
